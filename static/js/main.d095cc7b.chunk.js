(this.webpackJsonpnycpolls=this.webpackJsonpnycpolls||[]).push([[0],{14:function(e,t,n){e.exports=n(26)},20:function(e,t,n){},21:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(4),r=n.n(c),l=n(9),s=n.n(l),i=n(13),u=n(2),p=n(3),m=n(5),h=n(6),d=(n(20),n(21),n(7)),f=Object(d.c)({accessToken:"pk.eyJ1Ijoiam9lbC1vZS1sYWNleSIsImEiOiJja2Jnb3h5enoxN2tlMndtcmV0Zjl4YmJxIn0.xwAtV-aaryVr5CNqRs9LxQ"}),b=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={lng:-73.935242,lat:40.73061,zoom:[10]},a}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props.pollingData.reduce((function(e,t){return t.location&&e.push(o.a.createElement(d.a,{coordinates:[t.location.longitude,t.location.latitude],properties:t})),e}),[]);return o.a.createElement(f,{className:"map",style:"mapbox://styles/joel-oe-lacey/ckbgpw4dh0bvv1ipdym0olpg4",center:[this.state.lng,this.state.lat],zoom:this.state.zoom},o.a.createElement(d.b,{type:"circle",id:"marker"},e))}}]),n}(a.Component),v=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).fetchPollingPoints=Object(i.a)(s.a.mark((function e(){var t,n,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={method:"GET",headers:{"Content-Type":"application/json","X-App-Token":"I4HU56w9UWCUEicW4AxsHDNck"}},e.next=4,fetch("https://data.cityofnewyork.us/resource/utqd-4534.json",t);case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("API error");case 7:return e.next=9,n.json();case 9:o=e.sent,a.setState({pollLocations:o}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),a.state={pollLocations:[]},a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.fetchPollingPoints()}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"title"},o.a.createElement("h1",null,"Democracy NYC"),o.a.createElement("h2",null,"Find your nearest polling location")),o.a.createElement(b,{pollingData:this.state.pollLocations}),o.a.createElement("h3",{className:"footer"},"Polling locations sourced live from NYC's SODA API"))}}]),n}(a.Component);r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(v,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.d095cc7b.chunk.js.map